{"version":3,"sources":["webpack://blog/./node_modules/@datadog/browser-logs/esm/domain/logger.js","webpack://blog/./node_modules/@datadog/browser-logs/esm/domain/loggerSession.js","webpack://blog/./node_modules/@datadog/browser-logs/esm/boot/buildEnv.js","webpack://blog/./node_modules/@datadog/browser-logs/esm/boot/logs.js","webpack://blog/./node_modules/@datadog/browser-logs/esm/boot/logs.entry.js"],"names":["_a","LoggerTrackingType","StatusType","debug","error","info","warn","STATUS_PRIORITIES","HandlerType","Object","keys","console","http","silent","Logger","sendLog","handlerType","level","loggerContext","this","contextManager","set","prototype","log","message","messageContext","status","get","errorOrigin","origin","setContext","context","addContext","key","value","add","removeContext","remove","setHandler","handler","setLevel","startLoggerSession","configuration","areCookieAuthorized","isTracked_1","computeTrackingType","TRACKED","getId","isTracked","session","cookieOptions","rawTrackingType","rawSessionType","trackingType","NOT_TRACKED","hasValidLoggerSession","computeSessionState","getTrackingType","sampleRate","buildEnv","buildMode","datacenter","sdkVersion","FIELDS_WITH_SENSITIVE_DATA","getRUMInternalContext","startTime","rum","window","DD_RUM","getInternalContext","undefined","datadogLogs","startLogsImpl","isAlreadyInitialized","globalContextManager","customLoggers","beforeInitSendLog","sendLogStrategy","currentContext","logger","init","userConfiguration","silentMultipleInit","publicApiKey","clientToken","canInitLogs","drain","getLoggerGlobalContext","setLoggerGlobalContext","addLoggerGlobalContext","removeLoggerGlobalContext","createLogger","name","conf","getLogger","date","Date","now","view","referrer","document","url","location","href","makeLogsPublicApi","errorLogger","getGlobalContext","internalMonitoring","errorObservable","setExternalContextProvider","session_id","assemble","contextualizedMessage","service","beforeSend","limitModification","buildAssemble","batch","replicaBatch","primaryBatch","createLoggerBatch","logsEndpoint","replica","endpointUrl","batchBytesLimit","maxBatchSize","maxMessageSize","flushTimeout","startLoggerBatch","subscribe","kind","type","source","stack","resource","method","status_code","statusCode","doStartLogs","forwardErrorsToLogs"],"mappings":"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","file":"51-098a0fc3aa2992cbbdf5.js","sourcesContent":["var _a;\n\nimport { __assign, __decorate } from \"tslib\";\nimport { combine, createContextManager, ErrorSource, monitored } from '@datadog/browser-core';\nexport var StatusType = {\n  debug: 'debug',\n  error: 'error',\n  info: 'info',\n  warn: 'warn'\n};\nvar STATUS_PRIORITIES = (_a = {}, _a[StatusType.debug] = 0, _a[StatusType.info] = 1, _a[StatusType.warn] = 2, _a[StatusType.error] = 3, _a);\nexport var STATUSES = Object.keys(StatusType);\nexport var HandlerType = {\n  console: 'console',\n  http: 'http',\n  silent: 'silent'\n};\n\nvar Logger =\n/** @class */\nfunction () {\n  function Logger(sendLog, handlerType, level, loggerContext) {\n    if (handlerType === void 0) {\n      handlerType = HandlerType.http;\n    }\n\n    if (level === void 0) {\n      level = StatusType.debug;\n    }\n\n    if (loggerContext === void 0) {\n      loggerContext = {};\n    }\n\n    this.sendLog = sendLog;\n    this.handlerType = handlerType;\n    this.level = level;\n    this.contextManager = createContextManager();\n    this.contextManager.set(loggerContext);\n  }\n\n  Logger.prototype.log = function (message, messageContext, status) {\n    if (status === void 0) {\n      status = StatusType.info;\n    }\n\n    if (STATUS_PRIORITIES[status] >= STATUS_PRIORITIES[this.level]) {\n      switch (this.handlerType) {\n        case HandlerType.http:\n          this.sendLog(__assign({\n            message: message,\n            status: status\n          }, combine(this.contextManager.get(), messageContext)));\n          break;\n\n        case HandlerType.console:\n          console.log(status + \": \" + message, combine(this.contextManager.get(), messageContext));\n          break;\n\n        case HandlerType.silent:\n          break;\n      }\n    }\n  };\n\n  Logger.prototype.debug = function (message, messageContext) {\n    this.log(message, messageContext, StatusType.debug);\n  };\n\n  Logger.prototype.info = function (message, messageContext) {\n    this.log(message, messageContext, StatusType.info);\n  };\n\n  Logger.prototype.warn = function (message, messageContext) {\n    this.log(message, messageContext, StatusType.warn);\n  };\n\n  Logger.prototype.error = function (message, messageContext) {\n    var errorOrigin = {\n      error: {\n        origin: ErrorSource.LOGGER\n      }\n    };\n    this.log(message, combine(errorOrigin, messageContext), StatusType.error);\n  };\n\n  Logger.prototype.setContext = function (context) {\n    this.contextManager.set(context);\n  };\n\n  Logger.prototype.addContext = function (key, value) {\n    this.contextManager.add(key, value);\n  };\n\n  Logger.prototype.removeContext = function (key) {\n    this.contextManager.remove(key);\n  };\n\n  Logger.prototype.setHandler = function (handler) {\n    this.handlerType = handler;\n  };\n\n  Logger.prototype.setLevel = function (level) {\n    this.level = level;\n  };\n\n  __decorate([monitored], Logger.prototype, \"log\", null);\n\n  return Logger;\n}();\n\nexport { Logger };","import { performDraw, startSessionManagement } from '@datadog/browser-core';\nexport var LOGGER_SESSION_KEY = 'logs';\nexport var LoggerTrackingType;\n\n(function (LoggerTrackingType) {\n  LoggerTrackingType[\"NOT_TRACKED\"] = \"0\";\n  LoggerTrackingType[\"TRACKED\"] = \"1\";\n})(LoggerTrackingType || (LoggerTrackingType = {}));\n\nexport function startLoggerSession(configuration, areCookieAuthorized) {\n  if (!areCookieAuthorized) {\n    var isTracked_1 = computeTrackingType(configuration) === LoggerTrackingType.TRACKED;\n    return {\n      getId: function getId() {\n        return undefined;\n      },\n      isTracked: function isTracked() {\n        return isTracked_1;\n      }\n    };\n  }\n\n  var session = startSessionManagement(configuration.cookieOptions, LOGGER_SESSION_KEY, function (rawTrackingType) {\n    return computeSessionState(configuration, rawTrackingType);\n  });\n  return {\n    getId: session.getId,\n    isTracked: function isTracked() {\n      return session.getTrackingType() === LoggerTrackingType.TRACKED;\n    }\n  };\n}\n\nfunction computeTrackingType(configuration) {\n  if (!performDraw(configuration.sampleRate)) {\n    return LoggerTrackingType.NOT_TRACKED;\n  }\n\n  return LoggerTrackingType.TRACKED;\n}\n\nfunction computeSessionState(configuration, rawSessionType) {\n  var trackingType = hasValidLoggerSession(rawSessionType) ? rawSessionType : computeTrackingType(configuration);\n  return {\n    trackingType: trackingType,\n    isTracked: trackingType === LoggerTrackingType.TRACKED\n  };\n}\n\nfunction hasValidLoggerSession(trackingType) {\n  return trackingType === LoggerTrackingType.NOT_TRACKED || trackingType === LoggerTrackingType.TRACKED;\n}","export var buildEnv = {\n  buildMode: 'release',\n  datacenter: 'us',\n  sdkVersion: '2.6.2'\n};","import { areCookiesAuthorized, Batch, combine, commonInit, getTimeStamp, HttpRequest, limitModification, Observable, startAutomaticErrorCollection } from '@datadog/browser-core';\nimport { startLoggerSession } from '../domain/loggerSession';\nimport { buildEnv } from './buildEnv';\nvar FIELDS_WITH_SENSITIVE_DATA = ['view.url', 'view.referrer', 'message', 'error.stack', 'http.url'];\nexport function startLogs(userConfiguration, errorLogger, getGlobalContext) {\n  var _a = commonInit(userConfiguration, buildEnv),\n      configuration = _a.configuration,\n      internalMonitoring = _a.internalMonitoring;\n\n  var errorObservable = userConfiguration.forwardErrorsToLogs !== false ? startAutomaticErrorCollection(configuration) : new Observable();\n  var session = startLoggerSession(configuration, areCookiesAuthorized(configuration.cookieOptions));\n  return doStartLogs(configuration, errorObservable, internalMonitoring, session, errorLogger, getGlobalContext);\n}\nexport function doStartLogs(configuration, errorObservable, internalMonitoring, session, errorLogger, getGlobalContext) {\n  internalMonitoring.setExternalContextProvider(function () {\n    return combine({\n      session_id: session.getId()\n    }, getGlobalContext(), getRUMInternalContext());\n  });\n  var assemble = buildAssemble(session, configuration);\n  var batch = startLoggerBatch(configuration);\n  errorObservable.subscribe(function (error) {\n    errorLogger.error(error.message, combine({\n      date: getTimeStamp(error.startTime),\n      error: {\n        kind: error.type,\n        origin: error.source,\n        stack: error.stack\n      }\n    }, error.resource ? {\n      http: {\n        method: error.resource.method,\n        status_code: error.resource.statusCode,\n        url: error.resource.url\n      }\n    } : undefined, getRUMInternalContext(error.startTime)));\n  });\n  return function (message, currentContext) {\n    var contextualizedMessage = assemble(message, currentContext);\n\n    if (contextualizedMessage) {\n      batch.add(contextualizedMessage);\n    }\n  };\n}\n\nfunction startLoggerBatch(configuration) {\n  var primaryBatch = createLoggerBatch(configuration.logsEndpoint);\n  var replicaBatch;\n\n  if (configuration.replica !== undefined) {\n    replicaBatch = createLoggerBatch(configuration.replica.logsEndpoint);\n  }\n\n  function createLoggerBatch(endpointUrl) {\n    return new Batch(new HttpRequest(endpointUrl, configuration.batchBytesLimit), configuration.maxBatchSize, configuration.batchBytesLimit, configuration.maxMessageSize, configuration.flushTimeout);\n  }\n\n  return {\n    add: function add(message) {\n      primaryBatch.add(message);\n\n      if (replicaBatch) {\n        replicaBatch.add(message);\n      }\n    }\n  };\n}\n\nexport function buildAssemble(session, configuration) {\n  return function (message, currentContext) {\n    if (!session.isTracked()) {\n      return undefined;\n    }\n\n    var contextualizedMessage = combine({\n      service: configuration.service,\n      session_id: session.getId()\n    }, currentContext, getRUMInternalContext(), message);\n\n    if (configuration.beforeSend) {\n      var shouldSend = limitModification(contextualizedMessage, FIELDS_WITH_SENSITIVE_DATA, configuration.beforeSend);\n\n      if (shouldSend === false) {\n        return undefined;\n      }\n    }\n\n    return contextualizedMessage;\n  };\n}\nexport function assembleMessageContexts(defaultContext, currentContext, rumInternalContext, message) {\n  return combine(defaultContext, currentContext, rumInternalContext, message);\n}\n\nfunction getRUMInternalContext(startTime) {\n  var rum = window.DD_RUM;\n  return rum && rum.getInternalContext ? rum.getInternalContext(startTime) : undefined;\n}","import { __assign } from \"tslib\";\nimport { BoundedBuffer, combine, createContextManager, defineGlobal, getGlobalObject, isPercentage, makePublicApi, monitor } from '@datadog/browser-core';\nimport { Logger } from '../domain/logger';\nimport { startLogs } from './logs';\nexport var datadogLogs = makeLogsPublicApi(startLogs);\ndefineGlobal(getGlobalObject(), 'DD_LOGS', datadogLogs);\nexport function makeLogsPublicApi(startLogsImpl) {\n  var isAlreadyInitialized = false;\n  var globalContextManager = createContextManager();\n  var customLoggers = {};\n  var beforeInitSendLog = new BoundedBuffer();\n\n  var sendLogStrategy = function sendLogStrategy(message, currentContext) {\n    beforeInitSendLog.add([message, currentContext]);\n  };\n\n  var logger = new Logger(sendLog);\n  return makePublicApi({\n    logger: logger,\n    init: monitor(function (userConfiguration) {\n      if (!canInitLogs(userConfiguration)) {\n        return;\n      }\n\n      if (userConfiguration.publicApiKey) {\n        userConfiguration.clientToken = userConfiguration.publicApiKey;\n        console.warn('Public API Key is deprecated. Please use Client Token instead.');\n      }\n\n      sendLogStrategy = startLogsImpl(userConfiguration, logger, globalContextManager.get);\n      beforeInitSendLog.drain(function (_a) {\n        var message = _a[0],\n            context = _a[1];\n        return sendLogStrategy(message, context);\n      });\n      isAlreadyInitialized = true;\n    }),\n    getLoggerGlobalContext: monitor(globalContextManager.get),\n    setLoggerGlobalContext: monitor(globalContextManager.set),\n    addLoggerGlobalContext: monitor(globalContextManager.add),\n    removeLoggerGlobalContext: monitor(globalContextManager.remove),\n    createLogger: monitor(function (name, conf) {\n      if (conf === void 0) {\n        conf = {};\n      }\n\n      customLoggers[name] = new Logger(sendLog, conf.handler, conf.level, __assign(__assign({}, conf.context), {\n        logger: {\n          name: name\n        }\n      }));\n      return customLoggers[name];\n    }),\n    getLogger: monitor(function (name) {\n      return customLoggers[name];\n    })\n  });\n\n  function canInitLogs(userConfiguration) {\n    if (isAlreadyInitialized) {\n      if (!userConfiguration.silentMultipleInit) {\n        console.error('DD_LOGS is already initialized.');\n      }\n\n      return false;\n    }\n\n    if (!userConfiguration || !userConfiguration.publicApiKey && !userConfiguration.clientToken) {\n      console.error('Client Token is not configured, we will not send any data.');\n      return false;\n    }\n\n    if (userConfiguration.sampleRate !== undefined && !isPercentage(userConfiguration.sampleRate)) {\n      console.error('Sample Rate should be a number between 0 and 100');\n      return false;\n    }\n\n    return true;\n  }\n\n  function sendLog(message) {\n    sendLogStrategy(message, combine({\n      date: Date.now(),\n      view: {\n        referrer: document.referrer,\n        url: window.location.href\n      }\n    }, globalContextManager.get()));\n  }\n}"],"sourceRoot":""}