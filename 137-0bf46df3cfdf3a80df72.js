(self.webpackChunkblog=self.webpackChunkblog||[]).push([[137],{7137:function(t,e,n){"use strict";n.r(e),n.d(e,{datadogRum:function(){return Kt}});var r,i,o,a=n(20323),u=n(85145),c=n(49120),s=n(82753),d=n(62503),f=n(52912),E=n(78138),p=n(81225),T=n(66742);!function(t){t.ACTION="action",t.ERROR="error",t.LONG_TASK="long_task",t.VIEW="view",t.RESOURCE="resource"}(r||(r={})),function(t){t.INITIAL_LOAD="initial_load",t.ROUTE_CHANGE="route_change"}(i||(i={})),function(t){t.CLICK="click",t.CUSTOM="custom"}(o||(o={}));var l,m=n(79140);!function(t){t[t.PERFORMANCE_ENTRY_COLLECTED=0]="PERFORMANCE_ENTRY_COLLECTED",t[t.AUTO_ACTION_CREATED=1]="AUTO_ACTION_CREATED",t[t.AUTO_ACTION_COMPLETED=2]="AUTO_ACTION_COMPLETED",t[t.AUTO_ACTION_DISCARDED=3]="AUTO_ACTION_DISCARDED",t[t.VIEW_CREATED=4]="VIEW_CREATED",t[t.VIEW_UPDATED=5]="VIEW_UPDATED",t[t.VIEW_ENDED=6]="VIEW_ENDED",t[t.REQUEST_STARTED=7]="REQUEST_STARTED",t[t.REQUEST_COMPLETED=8]="REQUEST_COMPLETED",t[t.SESSION_RENEWED=9]="SESSION_RENEWED",t[t.DOM_MUTATED=10]="DOM_MUTATED",t[t.BEFORE_UNLOAD=11]="BEFORE_UNLOAD",t[t.RAW_RUM_EVENT_COLLECTED=12]="RAW_RUM_EVENT_COLLECTED",t[t.RUM_EVENT_COLLECTED=13]="RUM_EVENT_COLLECTED"}(l||(l={}));var v=function(){function t(){this.callbacks={}}return t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter((function(t){return e!==t}))}}},t}();function _(t){var e,n=function(){var t,e=window;if(e.Zone){var n=e.Zone.__symbol__("MutationObserver");t=e[n]}return t||(t=e.MutationObserver),t}();return n&&(e=new n((0,E.zk)((function(){t.notify(l.DOM_MUTATED)})))).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),{stop:function(){e&&e.disconnect()}}}var C=n(38499),g=n(83093),y="initial_document",R=[[u._g.DOCUMENT,function(t){return y===t}],[u._g.XHR,function(t){return"xmlhttprequest"===t}],[u._g.FETCH,function(t){return"fetch"===t}],[u._g.BEACON,function(t){return"beacon"===t}],[u._g.CSS,function(t,e){return/\.css$/i.test(e)}],[u._g.JS,function(t,e){return/\.js$/i.test(e)}],[u._g.IMAGE,function(t,e){return(0,u.q9)(["image","img","icon"],t)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)}],[u._g.FONT,function(t,e){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(e)}],[u._g.MEDIA,function(t,e){return(0,u.q9)(["audio","video"],t)||null!==/\.(mp3|mp4)$/i.exec(e)}]];function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n+=1)if(t[n-1]>t[n])return!1;return!0}function h(t){var e=O(t);if(e){var n=e.startTime,r=e.fetchStart,i=e.redirectStart,o=e.redirectEnd,a=e.domainLookupStart,u=e.domainLookupEnd,c=e.connectStart,s=e.secureConnectionStart,d=e.connectEnd,f=e.requestStart,E=e.responseStart,p={download:A(n,E,e.responseEnd),first_byte:A(n,f,E)};return d!==r&&(p.connect=A(n,c,d),b(c,s,d)&&(p.ssl=A(n,s,d))),u!==r&&(p.dns=A(n,a,u)),S(t)&&(p.redirect=A(n,i,o)),p}}function O(t){if(b(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd)){if(!S(t))return t;var e=t.redirectStart,n=t.redirectEnd;if(e<t.startTime&&(e=t.startTime),n<t.startTime&&(n=t.fetchStart),b(t.startTime,e,n,t.fetchStart))return(0,C.pi)((0,C.pi)({},t),{redirectEnd:n,redirectStart:e})}}function S(t){return t.fetchStart!==t.startTime}function A(t,e,n){return{duration:(0,d.c0)((0,d._J)(e,n)),start:(0,d.c0)((0,d._J)(t,e))}}function I(t){if(t.startTime<t.responseStart)return t.decodedBodySize}function D(t,e){return e&&!t.isIntakeUrl(e)}var N=2*u.yR;function w(t){var e=function(t){var e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]");return L(e&&e.content,n&&n.content)}(t)||function(t){var e=function(t){for(var e=0;e<t.childNodes.length;e+=1){if(n=U(t.childNodes[e]))return n}if(t.body)for(e=t.body.childNodes.length-1;e>=0;e-=1){var n,r=t.body.childNodes[e];if(n=U(r))return n;if(!k(r))break}}(t);if(!e)return;return L((0,u.MY)(e,"trace-id"),(0,u.MY)(e,"trace-time"))}(t);if(e&&!(e.traceTime<=Date.now()-N))return e.traceId}function L(t,e){var n=e&&Number(e);if(t&&n)return{traceId:t,traceTime:n}}function U(t){if(t&&function(t){return"#comment"===t.nodeName}(t)){var e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function k(t){return"#text"===t.nodeName}function M(){return void 0!==window.performance&&"getEntries"in performance}function x(t){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(t)}function W(t,e){var n;if(n=function(n){q(t,e,n)},(0,u.Tm)("interactive",(function(){var t,e={entryType:"resource",initiatorType:y,traceId:w(document)};if(x("navigation")&&performance.getEntriesByType("navigation").length>0){var r=performance.getEntriesByType("navigation")[0];t=(0,C.pi)((0,C.pi)({},r.toJSON()),e)}else{var i=V();t=(0,C.pi)((0,C.pi)((0,C.pi)({},i),{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0}),e)}n(t)})),M()&&P(t,e,performance.getEntries()),window.PerformanceObserver){new PerformanceObserver((0,E.zk)((function(n){return P(t,e,n.getEntries())}))).observe({entryTypes:["resource","navigation","longtask","paint","largest-contentful-paint","first-input","layout-shift"]}),M()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}x("navigation")||function(t){function e(){t((0,C.pi)((0,C.pi)({},V()),{entryType:"navigation"}))}(0,u.Tm)("complete",(function(){setTimeout((0,E.zk)(e))}))}((function(n){q(t,e,n)})),x("first-input")||function(t){var e=Date.now(),n=!1,r=(0,u.yw)(window,["click","mousedown","keydown","touchstart","pointerdown"],(function(t){if(t.cancelable){var e={entryType:"first-input",processingStart:(0,d._q)(),startTime:t.timeStamp,name:"emulated "+t.type};"pointerdown"===t.type?i(e):o(e)}}),{passive:!0,capture:!0}).stop;function i(t){(0,u.yw)(window,["pointerup","pointercancel"],(function(e){"pointerup"===e.type&&o(t)}),{once:!0})}function o(i){if(!n){n=!0,r();var o=i.processingStart-i.startTime;o>=0&&o<Date.now()-e&&t(i)}}}((function(n){q(t,e,n)}))}function V(){var t={},e=performance.timing;for(var n in e)if((0,u.hj)(e[n])){var r=n,i=e[r];t[r]=0===i?0:(0,d.ni)(i)}return t}function P(t,e,n){n.forEach((function(n){"resource"!==n.entryType&&"navigation"!==n.entryType&&"paint"!==n.entryType&&"longtask"!==n.entryType&&"largest-contentful-paint"!==n.entryType&&"first-input"!==n.entryType&&"layout-shift"!==n.entryType||q(t,e,n)}))}function q(t,e,n){(function(t){return"navigation"===t.entryType&&t.loadEventEnd<=0})(n)||function(t,e){return"resource"===e.entryType&&!D(t,e.name)}(e,n)||t.notify(l.PERFORMANCE_ENTRY_COLLECTED,n)}var z,H=n(78111);!function(t){t.SYNTHETICS="synthetics",t.USER="user"}(z||(z={}));var F=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"];function B(t,e,n,i,o,a){n.subscribe(l.RAW_RUM_EVENT_COLLECTED,(function(c){var s,E=c.startTime,p=c.rawRumEvent,T=c.savedCommonContext,m=c.customerContext,v=o.findView(E);if(i.isTracked()&&v&&v.session.id){var _=o.findAction(E),C=T||a(),g={_dd:{format_version:2},application:{id:t},date:(0,d.n$)(),service:e.service,session:{has_replay:C.hasReplay,type:void 0===window._DATADOG_SYNTHETICS_BROWSER?z.USER:z.SYNTHETICS}},y=(s=p,-1!==[r.ERROR,r.RESOURCE,r.LONG_TASK].indexOf(s.type)?(0,f.$e)(g,v,_,p):(0,f.$e)(g,v,p)),R=(0,f.$e)(C.context,m);(0,u.Qr)(R)||(y.context=R),(0,u.Qr)(C.user)||(y.usr=C.user),function(t,e){if(e){var n=(0,H.O)(t,F,e);if(!1===n&&t.type!==r.VIEW)return!1;!1===n&&console.warn("Can't dismiss view events using beforeSend, use onNewLocation instead!")}return!0}(y,e.beforeSend)&&n.notify(l.RUM_EVENT_COLLECTED,y)}}))}var K=n(32773),Y=K.TN,$=5*u.yR,G=u.yR;function Q(t,e){var n,r,i,o=[],a=[];t.subscribe(l.VIEW_CREATED,(function(t){n&&o.unshift({context:s(),endTime:t.startTime,startTime:n.startTime}),n=t,i=e.getId()})),t.subscribe(l.VIEW_UPDATED,(function(t){n.id===t.id&&(n=t)})),t.subscribe(l.AUTO_ACTION_CREATED,(function(t){r=t})),t.subscribe(l.AUTO_ACTION_COMPLETED,(function(t){r&&a.unshift({context:d(),endTime:r.startTime+t.duration,startTime:r.startTime}),r=void 0})),t.subscribe(l.AUTO_ACTION_DISCARDED,(function(){r=void 0})),t.subscribe(l.SESSION_RENEWED,(function(){o=[],a=[],n=void 0,r=void 0}));var u=setInterval((0,E.zk)((function(){c(o,Y),c(a,$)})),G);function c(t,e){for(var n=performance.now()-e;t.length>0&&t[t.length-1].startTime<n;)t.pop()}function s(){return{session:{id:i},view:{id:n.id,name:n.name,referrer:n.referrer,url:n.location.href}}}function d(){return{action:{id:r.id}}}function f(t,e,n,r){if(void 0===r)return n?t():void 0;if(n&&r>=n.startTime)return t();for(var i=0,o=e;i<o.length;i++){var a=o[i];if(r>a.endTime)break;if(r>=a.startTime)return a.context}}return{findAction:function(t){return f(d,a,r,t)},findView:function(t){return f(s,o,n,t)},stop:function(){clearInterval(u)}}}var J=n(45986),j=n(5674);function Z(t){0===t.status&&(t.traceId=void 0,t.spanId=void 0)}function X(t,e,n){var r;void 0!==tt()&&function(t,e){for(var n=(0,g.P$)(e),r=0,i=t.allowedTracingOrigins;r<i.length;r++){var o=i[r];if(n===o||o instanceof RegExp&&o.test(n))return!0}return!1}(t,e.url)&&(e.traceId=new et,e.spanId=new et,n((r=e.traceId,{"x-datadog-origin":"rum","x-datadog-parent-id":e.spanId.toDecimalString(),"x-datadog-sampled":"1","x-datadog-sampling-priority":"1","x-datadog-trace-id":r.toDecimalString()})))}function tt(){return window.crypto||window.msCrypto}var et=function(){function t(){this.buffer=new Uint8Array(8),tt().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return t.prototype.toString=function(t){for(var e=this.readInt32(0),n=this.readInt32(4),r="";;){var i=e%t*4294967296+n;if(e=Math.floor(e/t),n=Math.floor(i/t),r=(i%t).toString(t)+r,!e&&!n)break}return r},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},t}(),nt=1;function rt(t,e){var n=function(t){return{clearTracingIfCancelled:Z,traceFetch:function(e){return X(t,e,(function(t){var n;if(e.input instanceof Request&&!(null===(n=e.init)||void 0===n?void 0:n.headers))e.input=new Request(e.input),Object.keys(t).forEach((function(n){e.input.headers.append(n,t[n])}));else{e.init=(0,C.pi)({},e.init);var r=[];e.init.headers instanceof Headers?e.init.headers.forEach((function(t,e){r.push([e,t])})):Array.isArray(e.init.headers)?e.init.headers.forEach((function(t){r.push(t)})):e.init.headers&&Object.keys(e.init.headers).forEach((function(t){r.push([t,e.init.headers[t]])})),e.init.headers=r.concat((0,u.qP)(t))}}))},traceXhr:function(e,n){return X(t,e,(function(t){Object.keys(t).forEach((function(e){n.setRequestHeader(e,t[e])}))}))}}}(e);!function(t,e,n){var r=(0,J.h)();r.beforeSend((function(r,i){D(e,r.url)&&(n.traceXhr(r,i),r.requestIndex=it(),t.notify(l.REQUEST_STARTED,{requestIndex:r.requestIndex}))})),r.onRequestComplete((function(r){D(e,r.url)&&(n.clearTracingIfCancelled(r),t.notify(l.REQUEST_COMPLETED,{duration:r.duration,method:r.method,requestIndex:r.requestIndex,response:r.response,spanId:r.spanId,startTime:r.startTime,status:r.status,traceId:r.traceId,type:u.xd.XHR,url:r.url}))}))}(t,e,n),function(t,e,n){var r=(0,j.z)();r.beforeSend((function(r){D(e,r.url)&&(n.traceFetch(r),r.requestIndex=it(),t.notify(l.REQUEST_STARTED,{requestIndex:r.requestIndex}))})),r.onRequestComplete((function(r){D(e,r.url)&&(n.clearTracingIfCancelled(r),t.notify(l.REQUEST_COMPLETED,{duration:r.duration,method:r.method,requestIndex:r.requestIndex,response:r.response,responseType:r.responseType,spanId:r.spanId,startTime:r.startTime,status:r.status,traceId:r.traceId,type:u.xd.FETCH,url:r.url}))}))}(t,e,n)}function it(){var t=nt;return nt+=1,t}function ot(t,e){void 0===e&&(e=u.ZT);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},i=t.subscribe(l.RUM_EVENT_COLLECTED,(function(t){switch(t.type){case r.ERROR:n.errorCount+=1,e(n);break;case r.ACTION:n.userActionCount+=1,e(n);break;case r.LONG_TASK:n.longTaskCount+=1,e(n);break;case r.RESOURCE:n.resourceCount+=1,e(n)}}));return{stop:function(){i.unsubscribe()},eventCounts:n}}var at=n(67955);function ut(t,e){var n=function(t){var e,n=new at.y,r=[],i=0;function o(){n.notify({isBusy:i>0})}return r.push(t.subscribe(l.DOM_MUTATED,(function(){return o()}))),r.push(t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(t){"resource"===t.entryType&&o()}))),r.push(t.subscribe(l.REQUEST_STARTED,(function(t){void 0===e&&(e=t.requestIndex),i+=1,o()}))),r.push(t.subscribe(l.REQUEST_COMPLETED,(function(t){void 0===e||t.requestIndex<e||(i-=1,o())}))),{observable:n,stop:function(){r.forEach((function(t){return t.unsubscribe()}))}}}(t),r=n.observable,i=n.stop,o=function(t,e,n){var r,i=!1,o=setTimeout((0,E.zk)((function(){return c(!1,0)})),100),a=setTimeout((0,E.zk)((function(){return c(!0,(0,d._q)())})),1e4);t.subscribe((function(t){var e=t.isBusy;clearTimeout(o),clearTimeout(r);var n=(0,d._q)();e||(r=setTimeout((0,E.zk)((function(){return c(!0,n)})),100))}));var u=function(){i=!0,clearTimeout(o),clearTimeout(r),clearTimeout(a),e()};function c(t,e){i||(u(),n(t,e))}return{stop:u}}(r,i,e).stop;return{stop:function(){o(),i()}}}function ct(t){return function(t){var e;if(function(){void 0===Et&&(Et="closest"in HTMLElement.prototype);return Et}())e=t.closest("[data-dd-action-name]");else for(var n=t;n;){if(n.hasAttribute(st)){e=n;break}n=n.parentElement}if(!e)return;return vt(mt(e.getAttribute(st).trim()))}(t)||lt(t,pt)||lt(t,Tt)||""}var st="data-dd-action-name";var dt,ft,Et,pt=[function(t){if(function(){void 0===ft&&(ft="labels"in HTMLInputElement.prototype);return ft}()){if("labels"in t&&t.labels&&t.labels.length>0)return _t(t.labels[0])}else if(t.id){var e=t.ownerDocument&&t.ownerDocument.querySelector('label[for="'+t.id.replace('"','\\"')+'"]');return e&&_t(e)}},function(t){if("INPUT"===t.nodeName){var e=t,n=e.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return e.value}},function(t){if("BUTTON"===t.nodeName||"LABEL"===t.nodeName||"button"===t.getAttribute("role"))return _t(t)},function(t){return t.getAttribute("aria-label")},function(t){var e=t.getAttribute("aria-labelledby");if(e)return e.split(/\s+/).map((function(e){return function(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}(t,e)})).filter((function(t){return Boolean(t)})).map(_t).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t){if("options"in t&&t.options.length>0)return _t(t.options[0])}],Tt=[function(t){return _t(t)}];function lt(t,e){for(var n=t,r=0;r<=10&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName;){for(var i=0,o=e;i<o.length;i++){var a=(0,o[i])(n);if("string"==typeof a){var u=a.trim();if(u)return vt(mt(u))}}if("FORM"===n.nodeName)break;n=n.parentElement,r+=1}}function mt(t){return t.replace(/\s+/g," ")}function vt(t){return t.length>100?(0,u._z)(t,100)+" [...]":t}function _t(t){if(!t.isContentEditable){if("innerText"in t){var e=t.innerText;if(!function(){if(void 0===dt){var t=document.createElement("style");t.textContent="*";var e=document.createElement("div");e.appendChild(t),document.body.appendChild(e),dt=""===e.innerText,document.body.removeChild(e)}return dt}())for(var n=t.querySelectorAll("script, style"),r=0;r<n.length;r+=1){var i=n[r].innerText;i.trim().length>0&&(e=e.replace(i,""))}return e}return t.textContent}}function Ct(t){var e=function(t){var e,n;return{create:function(r,i){if(!e){var o=new gt(t,r,i);e=o,n=ut(t,(function(t,n){t?o.complete(n):o.discard(),e=void 0}))}},discardCurrent:function(){e&&(n.stop(),e.discard(),e=void 0)}}}(t);t.subscribe(l.VIEW_CREATED,(function(){e.discardCurrent()}));var n=(0,u.Oo)(window,"click",(function(t){if(t.target instanceof Element){var n=ct(t.target);n&&e.create(o.CLICK,n)}}),{capture:!0}).stop;return{stop:function(){e.discardCurrent(),n()}}}var gt=function(){function t(t,e,n){this.lifeCycle=t,this.type=e,this.name=n,this.id=(0,u.DO)(),this.startTime=(0,d._q)(),this.eventCountsSubscription=ot(t),this.lifeCycle.notify(l.AUTO_ACTION_CREATED,{id:this.id,startTime:this.startTime})}return t.prototype.complete=function(t){var e=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify(l.AUTO_ACTION_COMPLETED,{counts:{errorCount:e.errorCount,longTaskCount:e.longTaskCount,resourceCount:e.resourceCount},duration:(0,d._J)(this.startTime,t),id:this.id,name:this.name,startTime:this.startTime,type:this.type}),this.eventCountsSubscription.stop()},t.prototype.discard=function(){this.lifeCycle.notify(l.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()},t}();function yt(t,e){return t.subscribe(l.AUTO_ACTION_COMPLETED,(function(e){return t.notify(l.RAW_RUM_EVENT_COLLECTED,Rt(e))})),e.trackInteractions&&Ct(t),{addAction:function(e,n){t.notify(l.RAW_RUM_EVENT_COLLECTED,(0,C.pi)({savedCommonContext:n},Rt(e)))}}}function Rt(t){var e=bt(t)?{action:{error:{count:t.counts.errorCount},id:t.id,loading_time:(0,d.c0)(t.duration),long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}}}:void 0;return{customerContext:bt(t)?void 0:t.context,rawRumEvent:(0,f.$e)({action:{target:{name:t.name},type:t.type},date:(0,d.dg)(t.startTime),type:r.ACTION},e),startTime:t.startTime}}function bt(t){return t.type!==o.CUSTOM}var ht,Ot=n(12728),St=n(92440);function At(t,e){return function(t,e){return e.subscribe((function(e){return t.notify(l.RAW_RUM_EVENT_COLLECTED,It(e))})),{addError:function(e,n){var r=e.error,i=e.startTime,o=e.context,a=function(t,e,n){var r=t instanceof Error?(0,St._t)(t):void 0;return(0,C.pi)({startTime:e,source:n},(0,T.wl)(r,t,"Provided"))}(r,i,e.source);t.notify(l.RAW_RUM_EVENT_COLLECTED,(0,C.pi)({customerContext:o,savedCommonContext:n},It(a)))}}}(t,(0,Ot.pR)(e))}function It(t){return{rawRumEvent:{date:(0,d.dg)(t.startTime),error:{message:t.message,resource:t.resource?{method:t.resource.method,status_code:t.resource.statusCode,url:t.resource.url}:void 0,source:t.source,stack:t.stack,type:t.type},type:r.ERROR},startTime:t.startTime}}function Dt(t){if(performance&&"getEntriesByName"in performance){var e=performance.getEntriesByName(t.url,"resource");if(e.length&&"toJSON"in e[0]){var n,r=e.map((function(t){return t.toJSON()})).filter(O).filter((function(e){return n=e,r=t.startTime,i=Nt(t),n.startTime>=r&&Nt(n)<=i;var n,r,i}));return 1===r.length?r[0]:2===r.length&&Nt((n=r)[0])<=n[1].startTime?r[1]:void 0}}}function Nt(t){return t.startTime+t.duration}function wt(t,e){t.subscribe(l.REQUEST_COMPLETED,(function(n){e.isTrackedWithResource()&&t.notify(l.RAW_RUM_EVENT_COLLECTED,function(t){var e=t.type===u.xd.XHR?u._g.XHR:u._g.FETCH,n=Dt(t),i=n?n.startTime:t.startTime,o=n?Lt(n):void 0,a=function(t){if(!t.traceId||!t.spanId)return;return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString()},resource:{id:(0,u.DO)()}}}(t),c=(0,f.$e)({date:(0,d.dg)(i),resource:{type:e,duration:(0,d.c0)(t.duration),method:t.method,status_code:t.status,url:t.url},type:r.RESOURCE},a,o);return{startTime:i,rawRumEvent:c}}(n))})),t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(n){var i;e.isTrackedWithResource()&&"resource"===n.entryType&&("xmlhttprequest"!==(i=n).initiatorType&&"fetch"!==i.initiatorType)&&t.notify(l.RAW_RUM_EVENT_COLLECTED,function(t){var e=function(t){var e=t.name;if(!(0,g.jv)(e))return(0,E.tV)('Failed to construct URL for "'+t.name+'"'),u._g.OTHER;for(var n=(0,g.ye)(e),r=0,i=R;r<i.length;r++){var o=i[r],a=o[0];if((0,o[1])(t.initiatorType,n))return a}return u._g.OTHER}(t),n=Lt(t),i=function(t){return t.traceId?{_dd:{trace_id:t.traceId}}:void 0}(t),o=(0,f.$e)({date:(0,d.dg)(t.startTime),resource:{type:e,url:t.name},type:r.RESOURCE},i,n);return{startTime:t.startTime,rawRumEvent:o}}(n))}))}function Lt(t){return{resource:(0,C.pi)({duration:(e=t,n=e.duration,r=e.startTime,i=e.responseEnd,0===n&&r<i?(0,d.c0)((0,d._J)(r,i)):(0,d.c0)(n)),size:I(t)},h(t))};var e,n,r,i}function Ut(t){return void 0===t&&(t=window),ht||("hidden"===document.visibilityState?ht={timeStamp:0}:(ht={timeStamp:1/0},(0,u.Oo)(t,"pagehide",(function(t){var e=t.timeStamp;ht.timeStamp=e}),{capture:!0,once:!0}).stop)),ht}function kt(t,e){var n;function r(t){n=(0,C.pi)((0,C.pi)({},n),t),e(n)}var i=function(t,e){return{stop:t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(t){"navigation"===t.entryType&&e({domComplete:t.domComplete,domContentLoaded:t.domContentLoadedEventEnd,domInteractive:t.domInteractive,loadEvent:t.loadEventEnd})})).unsubscribe}}(t,r).stop,o=function(t,e){var n=Ut();return{stop:t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(t){"paint"===t.entryType&&"first-contentful-paint"===t.name&&t.startTime<n.timeStamp&&e(t.startTime)})).unsubscribe}}(t,(function(t){return r({firstContentfulPaint:t})})).stop,a=function(t,e,n){var r=Ut(),i=1/0,o=(0,u.yw)(e,["pointerdown","keydown"],(function(t){i=t.timeStamp}),{capture:!0,once:!0}).stop,a=t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(t){"largest-contentful-paint"===t.entryType&&t.startTime<i&&t.startTime<r.timeStamp&&n(t.startTime)})).unsubscribe;return{stop:function(){o(),a()}}}(t,window,(function(t){r({largestContentfulPaint:t})})).stop,c=function(t,e){var n=Ut();return{stop:t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(t){"first-input"===t.entryType&&t.startTime<n.timeStamp&&(t.startTime<=t.processingStart?e({firstInputDelay:(0,d._J)(t.startTime,t.processingStart),firstInputTime:t.startTime}):t.toJSON&&(0,E.tV)("Negative FID for entry "+t.name,{entry:(0,C.pi)((0,C.pi)({},t.toJSON()),{target:void 0}),fid:t.processingStart-t.startTime}))})).unsubscribe}}(t,(function(t){r({firstInputDelay:t.firstInputDelay,firstInputTime:t.firstInputTime})})).stop;return{stop:function(){i(),o(),a(),c()}}}var Mt=5*u.yR;function xt(t,e,n){var r;void 0===n&&(n=function(){});var o,a=Wt(e,t,i.INITIAL_LOAD,document.referrer,0,null===(r=n(t))||void 0===r?void 0:r.viewName),c=a,s=kt(e,(function(t){a.updateTimings(t),a.scheduleUpdate()})).stop,f=function(t){var e=history.pushState;history.pushState=(0,E.zk)((function(){e.apply(this,arguments),t()}));var n=history.replaceState;history.replaceState=(0,E.zk)((function(){n.apply(this,arguments),t()}));var r=(0,u.Oo)(window,"popstate",t).stop;return{stop:function(){r(),history.pushState=e,history.replaceState=n}}}(T).stop,p=(o=T,(0,u.Oo)(window,"hashchange",o)).stop;function T(){var r=n(t,c.getLocation())||{},o=r.viewName,a=r.shouldCreateView;if(a||void 0===a&&c.isDifferentView(t))return c.end(),c.triggerUpdate(),void(c=Wt(e,t,i.ROUTE_CHANGE,c.url,void 0,o));c.updateLocation(t),c.triggerUpdate()}e.subscribe(l.SESSION_RENEWED,(function(){c.end(),c=Wt(e,t,i.ROUTE_CHANGE,c.url)})),e.subscribe(l.BEFORE_UNLOAD,(function(){c.end(),c.triggerUpdate()}));var m=window.setInterval((0,E.zk)((function(){c.triggerUpdate()})),Mt);return{addTiming:function(t,e){void 0===e&&(e=(0,d._q)()),c.addTiming(t,e),c.triggerUpdate()},stop:function(){f(),p(),s(),c.end(),clearInterval(m)}}}function Wt(t,e,n,r,o,a){void 0===o&&(o=(0,d._q)());var c,s,f,p=(0,u.DO)(),T={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},m={},v={},_=0,g=(0,C.pi)({},e);t.notify(l.VIEW_CREATED,{id:p,startTime:o,location:g,referrer:r});var y,R=(0,u.P2)((0,E.zk)(N),3e3,{leading:!1}),b=R.throttled,h=R.cancel,O=ot(t,(function(t){T=t,b()})).stop,S=function(t,e){var n=t===i.INITIAL_LOAD,r=!0,o=[];function a(){!r&&!n&&o.length>0&&e(Math.max.apply(Math,o))}return{setLoadEvent:function(t){n&&(n=!1,o.push(t),a())},setActivityLoadingTime:function(t){r&&(r=!1,void 0!==t&&o.push(t),a())}}}(n,(function(t){s=t,b()})),A=S.setActivityLoadingTime,I=S.setLoadEvent,D=function(t,e){var n=(0,d._q)();return{stop:ut(t,(function(t,r){e(t?(0,d._J)(n,r):void 0)})).stop}}(t,A).stop;function N(){_+=1,t.notify(l.VIEW_UPDATED,{cumulativeLayoutShift:c,customTimings:v,documentVersion:_,eventCounts:T,id:p,name:a,loadingTime:s,loadingType:n,location:g,referrer:r,startTime:o,timings:m,duration:(0,d._J)(o,void 0===f?(0,d._q)():f),isActive:void 0===f})}return x("layout-shift")?(c=0,y=function(t,e){return{stop:t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(t){"layout-shift"!==t.entryType||t.hadRecentInput||e(t.value)})).unsubscribe}}(t,(function(t){c+=t,b()})).stop):y=u.ZT,N(),{scheduleUpdate:b,end:function(){f=(0,d._q)(),O(),D(),y(),t.notify(l.VIEW_ENDED)},isDifferentView:function(t){return g.pathname!==t.pathname||(e=t.hash,n=e.substr(1),!document.getElementById(n)&&t.hash!==g.hash);var e,n},getLocation:function(){return g},triggerUpdate:function(){h(),N()},updateTimings:function(t){m=t,void 0!==t.loadEvent&&I(t.loadEvent)},addTiming:function(t,e){v[function(t){var e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");e!==t&&console.warn("Invalid timing name: "+t+", sanitized to: "+e);return e}(t)]=(0,d._J)(o,e)},updateLocation:function(t){g=(0,C.pi)({},t)},get url(){return g.href}}}function Vt(t,e,n){return t.subscribe(l.VIEW_UPDATED,(function(e){return t.notify(l.RAW_RUM_EVENT_COLLECTED,function(t){var e={_dd:{document_version:t.documentVersion},date:(0,d.dg)(t.startTime),type:r.VIEW,view:{action:{count:t.eventCounts.userActionCount},cumulative_layout_shift:t.cumulativeLayoutShift,dom_complete:(0,d.c0)(t.timings.domComplete),dom_content_loaded:(0,d.c0)(t.timings.domContentLoaded),dom_interactive:(0,d.c0)(t.timings.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:(0,d.c0)(t.timings.firstContentfulPaint),first_input_delay:(0,d.c0)(t.timings.firstInputDelay),first_input_time:(0,d.c0)(t.timings.firstInputTime),is_active:t.isActive,name:t.name,largest_contentful_paint:(0,d.c0)(t.timings.largestContentfulPaint),load_event:(0,d.c0)(t.timings.loadEvent),loading_time:(0,d.c0)(t.loadingTime),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:(0,d.c0)(t.duration)}};(0,u.Qr)(t.customTimings)||(e.view.custom_timings=(0,u.Q8)(t.customTimings,d.c0));return{rawRumEvent:e,startTime:t.startTime}}(e))})),xt(e,t,n)}var Pt;function qt(t,e){var n=(0,K.M_)(t.cookieOptions,"rum",(function(e){return function(t,e){var n;n=function(t){return t===Pt.NOT_TRACKED||t===Pt.TRACKED_WITH_RESOURCES||t===Pt.TRACKED_WITHOUT_RESOURCES}(e)?e:(0,u.y7)(t.sampleRate)?(0,u.y7)(t.resourceSampleRate)?Pt.TRACKED_WITH_RESOURCES:Pt.TRACKED_WITHOUT_RESOURCES:Pt.NOT_TRACKED;return{trackingType:n,isTracked:zt(n)}}(t,e)}));return n.renewObservable.subscribe((function(){e.notify(l.SESSION_RENEWED)})),{getId:n.getId,isTracked:function(){return void 0!==n.getId()&&zt(n.getTrackingType())},isTrackedWithResource:function(){return void 0!==n.getId()&&n.getTrackingType()===Pt.TRACKED_WITH_RESOURCES}}}function zt(t){return t===Pt.TRACKED_WITH_RESOURCES||t===Pt.TRACKED_WITHOUT_RESOURCES}!function(t){t.NOT_TRACKED="0",t.TRACKED_WITH_RESOURCES="1",t.TRACKED_WITHOUT_RESOURCES="2"}(Pt||(Pt={}));var Ht=n(75954);function Ft(t,e){var n=function(t,e){var n,r=o(t.rumEndpoint,(function(){return e.notify(l.BEFORE_UNLOAD)})),i=t.replica;void 0!==i&&(n=o(i.rumEndpoint));function o(e,n){return new Ht.E(new Ht.a(e,t.batchBytesLimit,!0),t.maxBatchSize,t.batchBytesLimit,t.maxMessageSize,t.flushTimeout,n)}function a(t){return(0,f.$e)(t,{application:{id:i.applicationId}})}var u=!1;return{add:function(t){u||(r.add(t),n&&n.add(a(t)))},stop:function(){u=!0},upsert:function(t,e){u||(r.upsert(t,e),n&&n.upsert(a(t),e))}}}(t,e);return e.subscribe(l.RUM_EVENT_COLLECTED,(function(t){t.type===r.VIEW?n.upsert(t,t.view.id):n.add(t)})),{stop:function(){n.stop()}}}var Bt={buildMode:"release",datacenter:"us",sdkVersion:"2.6.2"};var Kt=function(t){var e=!1,n=(0,c.W)(),r={},i=function(){},l=new s.S,m=function(t){l.add([t,(0,d._q)()])},v=new s.S,_=function(t){v.add([t,y()])},C=new s.S,g=function(t){C.add([t,y()])};function y(){return(0,f.I8)({context:n.get(),user:r})}var R=(0,a.r5)({init:(0,E.zk)((function(o){var c;(0,a.G5)((0,p.HZ)(o))&&(0,a.VE)()&&function(t){if(e)return t.silentMultipleInit||console.error("DD_RUM is already initialized."),!1;if(!t||!t.clientToken&&!t.publicApiKey)return console.error("Client Token is not configured, we will not send any data."),!1;if(!t.applicationId)return console.error("Application ID is not configured, no RUM data will be collected."),!1;if(void 0!==t.sampleRate&&!(0,u.zz)(t.sampleRate))return console.error("Sample Rate should be a number between 0 and 100"),!1;if(void 0!==t.resourceSampleRate&&!(0,u.zz)(t.resourceSampleRate))return console.error("Resource Sample Rate should be a number between 0 and 100"),!1;if(Array.isArray(t.allowedTracingOrigins)&&0!==t.allowedTracingOrigins.length&&void 0===t.service)return console.error("Service need to be configured when tracing is enabled"),!1;return!0}(o)&&(o.publicApiKey&&(o.clientToken=o.publicApiKey),c=t(o,(function(){return{user:r,context:n.get()}})),_=c.addAction,g=c.addError,m=c.addTiming,i=c.getInternalContext,v.drain((function(t){var e=t[0],n=t[1];return _(e,n)})),C.drain((function(t){var e=t[0],n=t[1];return g(e,n)})),l.drain((function(t){var e=t[0],n=t[1];return m(e,n)})),e=!0)})),addRumGlobalContext:(0,E.zk)(n.add),removeRumGlobalContext:(0,E.zk)(n.remove),getRumGlobalContext:(0,E.zk)(n.get),setRumGlobalContext:(0,E.zk)(n.set),getInternalContext:(0,E.zk)((function(t){return i(t)})),addAction:(0,E.zk)((function(t,e){_({name:t,context:(0,f.I8)(e),startTime:(0,d._q)(),type:o.CUSTOM})})),addUserAction:function(t,e){R.addAction(t,e)},addError:(0,E.zk)((function(t,e,n){var r;void 0===n&&(n=T.zH.CUSTOM),n===T.zH.CUSTOM||n===T.zH.NETWORK||n===T.zH.SOURCE?r=n:(console.error("DD_RUM.addError: Invalid source '"+n+"'"),r=T.zH.CUSTOM),g({error:t,context:(0,f.I8)(e),source:r,startTime:(0,d._q)()})})),addTiming:(0,E.zk)((function(t){m(t)})),setUser:(0,E.zk)((function(t){var e=function(t){if("object"!=typeof t||!t)return;var e=(0,f.I8)(t);"id"in e&&(e.id=String(e.id));"name"in e&&(e.name=String(e.name));"email"in e&&(e.email=String(e.email));return e}(t);e?r=e:console.error("Unsupported user:",t)}))});return R}((function(t,e){var n=new v,i=(0,a.mC)(t,Bt),o=i.configuration,u=i.internalMonitoring,c=qt(o,n);o.isEnabled("onNewLocation")||(t.onNewLocation=void 0),u.setExternalContextProvider((function(){return(0,f.$e)({application_id:t.applicationId},E.findView(),e().context)}));var s=function(t,e,n,i,o,a,u){var c=Q(n,o),s=Ft(i,n);B(t,i,n,o,c,a),function(t){t.subscribe(l.PERFORMANCE_ENTRY_COLLECTED,(function(e){if("longtask"===e.entryType){var n={date:(0,d.dg)(e.startTime),long_task:{duration:(0,d.c0)(e.duration)},type:r.LONG_TASK};t.notify(l.RAW_RUM_EVENT_COLLECTED,{rawRumEvent:n,startTime:e.startTime})}}))}(n),wt(n,o);var f=Vt(n,e,u&&(0,m.Z)(u,"onNewLocation threw an error:")),E=f.addTiming,p=f.stop,T=At(n,i).addError;return{addAction:yt(n,i).addAction,addError:T,parentContexts:c,addTiming:E,stop:function(){p(),s.stop()}}}(t.applicationId,location,n,o,c,e,t.onNewLocation),E=s.parentContexts,p=s.addError,T=s.addAction,C=s.addTiming;rt(n,o),W(n,o),_(n);var g=function(t,e,n){return{get:function(r){var i=n.findView(r);if(e.isTracked()&&i&&i.session.id){var o=n.findAction(r);return{application_id:t,session_id:i.session.id,user_action:o?{id:o.action.id}:void 0,view:i.view}}}}}(t.applicationId,c,E);return{addAction:T,addError:p,addTiming:C,configuration:o,lifeCycle:n,parentContexts:E,session:c,getInternalContext:g.get}}));(0,a.y)((0,u.Rf)(),"DD_RUM",Kt)}}]);
//# sourceMappingURL=137-0bf46df3cfdf3a80df72.js.map